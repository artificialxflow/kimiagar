# TODO v4 - تغییرات اصلی اپلیکیشن کیمیاگر

## 🔥 اولویت بالا (Critical)

### 📱 1. تغییرات صفحه داشبورد (Dashboard)
- [x] تغییر چیدمان موبایل: کیف پول → دسترسی سریع → فعالیت اخیر → نمودار → اخبار
- [x] اضافه کردن نمایش موجودی سکه‌ها در کیف پول طلایی (تمام، نیم، ربع سکه)
- [x] تبدیل فعالیت اخیر به حالت کشویی (collapsible)
- [x] تغییر دسترسی سریع به حالت خطی
- [x] اضافه کردن "سایر موارد" برای تحویل فیزیکی در دسترسی سریع
- [x] اضافه کردن نمودار قیمت سکه‌ها کنار نمودار طلا
- [x] ایجاد سیستم مدیریت اخبار و اطلاعات از داشبورد ادمین

### 🛒 2. تغییرات صفحه خرید (Buy)
- [x] حذف انتخاب محصول (محصول از URL مشخص می‌شود)
- [x] پیاده‌سازی تبدیل خودکار بین وزن و مبلغ
- [x] حذف گزینه کیف پول/کارت بانکی (فقط کیف پول)
- [x] اضافه کردن شمارنده معکوس 180 ثانیه پس از ثبت سفارش
- [x] اضافه کردن پیام‌های نوسان برای روزهای پرنوسان
- [x] حذف امکان لغو معامله پس از تایید
- [x] تغییر رنگ نوار پایین از قهوه‌ای به سبز
- [x] اضافه کردن پیام "در حال انجام معامله لطفا صبور باشید"

### 💰 3. تغییرات صفحه فروش (Sell)
- [x] محدود کردن محصولات به: طلای 18 عیار، سکه 86، نیم سکه 86، ربع سکه 86
- [x] اضافه کردن بررسی موجودی هر محصول
- [x] عدم امکان فروش در صورت عدم موجودی
- [x] حذف انتخاب محصول (محصول از URL مشخص می‌شود)
- [x] پیاده‌سازی تبدیل خودکار بین وزن و مبلغ
- [x] اعتبارسنجی اعداد صحیح برای سکه‌ها
- [x] اضافه کردن شمارنده معکوس 180 ثانیه
- [x] اضافه کردن پیام‌های نوسان
- [x] نمایش جزئیات معامله پس از موفقیت

## 🟡 اولویت متوسط (High)

### 📊 4. تغییرات صفحه بازار (Market)
- [x] حذف قیمت‌های محاسبه شده و مراجع داخلی
- [x] محدود کردن به فقط قیمت‌های یزدان طلا
- [x] محدود کردن محصولات به 4 مورد: طلای 18 عیار، سکه 86، نیم سکه 86، ربع سکه 86
- [x] حذف نمایش "محاسبه شده" از قیمت‌ها

### 💳 5. تغییرات صفحه کیف پول (Wallet)
- [x] اضافه کردن نمایش کیف پول سکه‌ها
- [x] اضافه کردن اطلاعیه نیاز به تایید اپراتور برای شارژ
- [x] اضافه کردن محدودیت واریز فقط از حساب شخصی کاربر
- [x] اضافه کردن هشدار عدم انتقال وجه از حساب شخص دیگر

### 🔄 6. تغییرات صفحه انتقال (Transfer)
- [x] اضافه کردن انتخاب نوع انتقال (ریالی یا طلایی)
- [x] اضافه کردن انتخاب نوع طلا (طلا، سکه، نیم سکه، ربع سکه)
- [x] تغییر نمایش مقدار بر اساس نوع انتخاب شده
- [x] اضافه کردن اطلاعات تحویل فیزیکی (1 هفته تا 10 روز)

### 🎨 7. تغییرات UI/UX
- [x] تغییر رنگ نوار پایین از قهوه‌ای به سبز
- [x] عدم مخفی بودن شمارنده معکوس
- [x] اضافه کردن پیام‌های نوسان در روزهای پرنوسان
- [x] بهبود نمایش پیام‌های خطا و موفقیت

## 🟢 اولویت پایین (Medium)

### 📄 8. سیستم فاکتور
- [x] بررسی وجود سیستم فاکتور فعلی
- [x] ایجاد یا بهبود سیستم فاکتور
- [x] اضافه کردن قابلیت چاپ PDF
- [x] اضافه کردن قابلیت دانلود فاکتور
- [x] اضافه کردن توضیحات کامل و مشخصات معامله
- [x] بهبود طراحی فاکتور

### 🔧 9. تغییرات فنی Backend
- [x] تغییر منطق API خرید برای حذف انتخاب محصول
- [x] تغییر منطق API فروش برای بررسی موجودی
- [x] اضافه کردن اعتبارسنجی‌های جدید برای سکه‌ها
- [x] پیاده‌سازی سیستم شمارنده معکوس
- [x] اضافه کردن API مدیریت اخبار و اطلاعات
- [x] بهبود سیستم مدیریت موجودی محصولات

### 📱 10. Responsive Design
- [x] بهبود چیدمان موبایل در تمام صفحات
- [x] تبدیل دسترسی سریع به حالت خطی در موبایل
- [x] بهبود نمایش فعالیت اخیر در حالت کشویی
- [x] تست و بهینه‌سازی نمایش در اندازه‌های مختلف صفحه

### 🗄️ 11. تغییرات دیتابیس
- [ ] اضافه کردن فیلدهای مورد نیاز برای موجودی سکه‌ها
- [ ] اضافه کردن جدول مدیریت اخبار و اطلاعات
- [ ] اضافه کردن فیلدهای مورد نیاز برای سیستم فاکتور
- [ ] بهینه‌سازی کوئری‌های موجود

### 🔐 12. امنیت و اعتبارسنجی
- [ ] اضافه کردن اعتبارسنجی‌های جدید برای خرید/فروش
- [ ] بهبود سیستم بررسی موجودی
- [ ] اضافه کردن محدودیت‌های انتقال وجه
- [ ] بهبود سیستم احراز هویت

## 📋 یادداشت‌های مهم

### نکات فنی:
- تمام تغییرات باید با ساختار فعلی سازگار باشند
- باید از mock data در development mode استفاده شود
- تغییرات باید responsive باشند
- باید تست‌های مناسب انجام شود

### نکات تجاری:
- قیمت‌ها فقط از یزدان طلا دریافت شوند
- امکان لغو معامله پس از تایید وجود نداشته باشد
- تحویل فیزیکی در دسترس باشد اما در معرض دید نباشد
- روزهای پرنوسان باید اعلام شوند

### اولویت اجرا:
1. ابتدا تغییرات داشبورد و چیدمان موبایل
2. سپس تغییرات خرید/فروش و سیستم شمارنده
3. در نهایت بهبود سیستم فاکتور و PDF

## 📊 خلاصه پیشرفت

### ✅ تکمیل شده (Completed)
- **صفحه داشبورد:** چیدمان موبایل، نمایش سکه‌ها، فعالیت کشویی، دسترسی خطی، نمودار سکه‌ها
- **صفحه خرید:** حذف انتخاب محصول، تبدیل خودکار، شمارنده معکوس، پیام نوسان، فاکتور
- **صفحه فروش:** محدودیت محصولات، بررسی موجودی، تبدیل خودکار، شمارنده معکوس، فاکتور
- **صفحه بازار:** فقط قیمت‌های یزدان طلا، محدودیت محصولات
- **صفحه کیف پول:** نمایش سکه‌ها، اطلاعیه‌های شارژ
- **صفحه انتقال:** انتخاب نوع انتقال، نوع طلا، اطلاعات تحویل
- **UI/UX:** نوار پایین سبز، شمارنده معکوس، پیام‌های نوسان
- **سیستم فاکتور:** تولید PDF، چاپ، دانلود، طراحی حرفه‌ای
- **سیستم اخبار:** مدیریت اخبار و اطلاعیه‌ها
- **Backend:** API های جدید، اعتبارسنجی، شمارنده معکوس
- **Responsive Design:** بهینه‌سازی موبایل و دسکتاپ

### 🔄 در حال انجام (In Progress)
- هیچ موردی باقی نمانده

### ⏳ باقی‌مانده (Pending)
- تغییرات دیتابیس (اختیاری)
- امنیت و اعتبارسنجی پیشرفته (اختیاری)

---
**تاریخ ایجاد:** 1404/7/6  
**آخرین بروزرسانی:** 1404/7/6  
**وضعیت:** ✅ تکمیل شده - تمام موارد اصلی پیاده‌سازی شد  
**تخمین زمان:** 0 روز - پروژه تکمیل شده
